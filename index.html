<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Happy Learning ðŸ˜œ</title>
    <link rel="icon" type="image/x-icon" href="https://avatars.githubusercontent.com/u/32040292">

</head>

<body style="margin: 0; overflow: hidden;">
    <p style="position: fixed; bottom: 10px;right:10px; background-color:white;
	 padding:1px 6px; border-radius:9px; border-style: solid ; z-index:99">- RakshitðŸ˜Ž</p>
    <h2 style="text-align:center; width:80%;font-family: cursive; margin: 2px auto;"> Video Player 2.0</h2>

    <div style=" padding:0 5%;">
        <iframe id="youTubeFrame" width="100%" height="520px" src="https://www.youtube.com/embed/_uL2btACZuU"
            title="YouTube video player" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
        </iframe>

        <div class="test1" style="padding: 3px; margin: 3px 3px; float: left; border: 1px solid black; border-radius: 5px; border-style:solid;">
            <div style="display: inline;">
                <div style="float: left; margin-right: 5px;">
                    <form id="urlForm">
                        <label for="urlId">Url:</label>
                        <input type="text" id="urlId" name="urlId">
                        <input style="font-weight:bold;" id="play" type="submit" value="Play">
                    </form>
                </div>

                <div style="float: left;">
                    <button  onclick="cleanAndPaste()">Past From Clipboard and <span style="font-weight:bold;">Play</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function cleanAndPaste() {
            navigator.clipboard.readText()
                 .then(
                 cliptext =>
                     document.getElementById('urlId').value = cliptext.trim())
                     .then(() => document.getElementById("play").click());
        }

        const forms = document.getElementById('urlForm');
        forms.addEventListener('submit', (event) => {
            event.preventDefault();
            let header = "https://www.youtube.com/embed/";
            let url = forms.elements['urlId'].value;
            if ((url == "") || (url == "\n")) {
                alert("Enter Video Url");
                return
            }
            url = url.trim();
            if (url.indexOf(".be/") != -1) {
                videoId = url.substring(17);
            } else if ((url.indexOf("?v=") > 0)) {
                videoIdArray = url.split(/[=,&]+/);
                if (videoIdArray.length < 1)
                    return
                videoId = videoIdArray.at(1);
            } else {
                alert("Youtube link incorrect");
                return
            }
            let embeddedUrl = header + videoId;
            document.getElementById("youTubeFrame").src = embeddedUrl;
        });

    </script>

</html>
